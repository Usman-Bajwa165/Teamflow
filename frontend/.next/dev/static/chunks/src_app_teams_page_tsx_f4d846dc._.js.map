{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/Window/Desktop/Teamflow/frontend/src/app/teams/page.tsx"],"sourcesContent":["\"use client\";\r\n// frontend/app/teams/page.tsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { getMyTeams, createTeam } from \"../../lib/api\";\r\nimport { useAuth } from \"../../context/AuthContext\";\r\nimport Link from \"next/link\";\r\n\r\nexport default function TeamsPage() {\r\n  const { accessToken } = useAuth();\r\n  const [teams, setTeams] = useState<any[]>([]);\r\n  const [name, setName] = useState(\"\");\r\n  const [msg, setMsg] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!accessToken) return;\r\n    (async () => {\r\n      try {\r\n        const res = await getMyTeams();\r\n        setTeams(res);\r\n      } catch (e) {\r\n        setMsg(\"Failed to fetch teams\");\r\n      }\r\n    })();\r\n  }, [accessToken]);\r\n\r\n  async function addTeam(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setMsg(null);\r\n    if (!name || name.trim().length < 2) {\r\n      setMsg('Team name must be at least 2 characters.');\r\n      return;\r\n    }\r\n    try {\r\n      const t = await createTeam(name.trim());\r\n      setTeams((s) => [...s, t]);\r\n      setName('');\r\n    } catch (err: any) {\r\n      const errMsg = err?.body?.message || 'Failed to create team';\r\n      setMsg(errMsg);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-2xl mb-4\">My teams</h2>\r\n      {msg && <div className=\"mb-3 text-red-600\">{msg}</div>}\r\n      <form onSubmit={addTeam} className=\"mb-4 flex gap-2\">\r\n        <input\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n          placeholder=\"New team name\"\r\n          className=\"px-3 py-2 border rounded flex-1\"\r\n        />\r\n        <button className=\"bg-green-600 text-white px-3 py-2 rounded\">\r\n          Create\r\n        </button>\r\n      </form>\r\n\r\n      <ul className=\"space-y-2\">\r\n        {teams.length === 0 && <div>No teams yet</div>}\r\n        {teams.map((m) => (\r\n          <li\r\n            key={m.team.id}\r\n            className=\"p-3 border rounded flex justify-between items-center\"\r\n          >\r\n            <div>\r\n              <div className=\"font-semibold\">{m.team.name}</div>\r\n              <div className=\"text-sm text-gray-600\">Role: {m.role}</div>\r\n            </div>\r\n            <div>\r\n              <Link\r\n                href={`/teams/${m.team.id}`}\r\n                className=\"text-sm text-blue-600\"\r\n              >\r\n                Open\r\n              </Link>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useEffect","useState","getMyTeams","createTeam","useAuth","Link","TeamsPage","$","$i","Symbol","for","accessToken","t0","teams","setTeams","name","setName","msg","setMsg","t1","t2","TeamsPage[useEffect()]","res","t3","addTeam","e_0","e","preventDefault","trim","length","t","s","t4","err","errMsg","body","message","t5","t6","e_1","target","value","t7","t8","t9","t10","t11","map","_TeamsPageTeamsMap","t12","t13","m","team","id","role"],"mappings":"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","ignoreList":[],"debugId":null}}]
}