{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/Window/Desktop/Teamflow/frontend/src/components/dnd/SortableItem.tsx"],"sourcesContent":["'use client';\r\nimport React from 'react';\r\nimport { useSortable } from '@dnd-kit/sortable';\r\nimport { CSS } from '@dnd-kit/utilities';\r\n\r\nexport default function SortableItem({\r\n  id,\r\n  title,\r\n  onOpen,\r\n  assigneeName,\r\n  status,\r\n}: {\r\n  id: string;\r\n  title: string;\r\n  onOpen?: () => void;\r\n  assigneeName?: string | null;\r\n  status?: string | null;\r\n}) {\r\n  const { attributes, listeners, setNodeRef, transform, transition } = useSortable({ id });\r\n  const style: React.CSSProperties = {\r\n    transform: CSS.Transform.toString(transform),\r\n    transition,\r\n    cursor: 'grab',\r\n  };\r\n\r\n  const statusUpper = status ? String(status).toUpperCase() : '';\r\n\r\n  // normalize assignee label â€” treat empty/whitespace as \"Unassigned\"\r\n  const assigneeLabel =\r\n    typeof assigneeName === 'string' && assigneeName.trim().length > 0\r\n      ? assigneeName.trim()\r\n      : 'Unassigned';\r\n\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      style={style}\r\n      {...attributes}\r\n      {...listeners}\r\n      className={`p-2 rounded border ${statusUpper === 'FINISHED' ? 'bg-green-100' : 'bg-white'}`}\r\n      role=\"button\"\r\n      onClick={() => onOpen && onOpen()}\r\n    >\r\n      <div className=\"font-medium\">{title}</div>\r\n      <div className=\"text-xs text-gray-600 mt-1\">\r\n        <span>Assigned to: {assigneeLabel}</span>\r\n        <span className=\"mx-2\">â€¢</span>\r\n        <span>Status: {statusUpper || 'TODO'}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useSortable","CSS","SortableItem","t0","$","$i","Symbol","for","id","title","onOpen","assigneeName","status","t1","attributes","listeners","setNodeRef","transform","transition","t2","Transform","toString","t3","cursor","style","t4","String","toUpperCase","statusUpper","t5","trim","length","assigneeLabel","t6","t7","SortableItem[<div>.onClick]","t8","t9","t10","t11","t12","t13","t14"],"mappings":";;;;;AAAa,SAAAA,CAAA,IAAAC,EAAA;AAEb,SAASE,WAAW,QAAQ,mBAAmB;AAC/C,SAASC,GAAG,QAAQ,oBAAoB;;;AAHxC,YAAY;;;;AAKG,sBAAAE,EAAA;;IAAA,MAAAC,CAAA,OAAAN,4LAAA,EAAA;IAAA,IAAAM,CAAA,CAAA,EAAA,KAAA,oEAAA;QAAA,IAAA,IAAAC,EAAA,GAAA,GAAAA,EAAA,GAAA,IAAAA,EAAA,IAAA,EAAA;YAAAD,CAAA,CAAAC,EAAA,CAAA,GAAAC,MAAA,CAAAC,GAAA,CAAA;QAAA;QAAAH,CAAA,CAAA,EAAA,GAAA;IAAA;IAAsB,MAAA,EAAAI,EAAA,EAAAC,KAAA,EAAAC,MAAA,EAAAC,YAAA,EAAAC,MAAAA,EAAA,GAAAT,EAYpC;IAAA,IAAAU,EAAA;IAAA,IAAAT,CAAA,CAAA,EAAA,KAAAI,EAAA,EAAA;QACkFK,EAAA,GAAA;YAAAL;QAAK,CAAC;QAAAJ,CAAA,CAAA,EAAA,GAAAI,EAAA;QAAAJ,CAAA,CAAA,EAAA,GAAAS,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAT,CAAA,CAAA,EAAA;IAAA;IAAvF,MAAA,EAAAU,UAAA,EAAAC,SAAA,EAAAC,UAAA,EAAAC,SAAA,EAAAC,UAAAA,EAAA,0MAAiFL,EAAM,CAAC;IAAC,IAAAM,EAAA;IAAA,IAAAf,CAAA,CAAA,EAAA,KAAAa,SAAA,EAAA;QAE5EE,EAAA,GAAAlB,2LAAG,CAAAmB,SAAU,CAAAC,QAAS,CAACJ,SAAS,CAAC;QAAAb,CAAA,CAAA,EAAA,GAAAa,SAAA;QAAAb,CAAA,CAAA,EAAA,GAAAe,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAf,CAAA,CAAA,EAAA;IAAA;IAAA,IAAAkB,EAAA;IAAA,IAAAlB,CAAA,CAAA,EAAA,KAAAe,EAAA,IAAAf,CAAA,CAAA,EAAA,KAAAc,UAAA,EAAA;QADXI,EAAA,GAAA;YAAAL,SAAA,EACtBE,EAAiC;YAAAD,UAAA;YAAAK,MAAA,EAEpC;QACV,CAAC;QAAAnB,CAAA,CAAA,EAAA,GAAAe,EAAA;QAAAf,CAAA,CAAA,EAAA,GAAAc,UAAA;QAAAd,CAAA,CAAA,EAAA,GAAAkB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAlB,CAAA,CAAA,EAAA;IAAA;IAJD,MAAAoB,KAAA,GAAmCF,EAIlC;IAAC,IAAAG,EAAA;IAAA,IAAArB,CAAA,CAAA,EAAA,KAAAQ,MAAA,EAAA;QAEkBa,EAAA,GAAAb,MAAM,GAAGc,MAAM,CAACd,MAAM,CAAC,CAAAe,WAAY,CAAM,CAAC,GAA1C,EAA0C;QAAAvB,CAAA,CAAA,EAAA,GAAAQ,MAAA;QAAAR,CAAA,CAAA,EAAA,GAAAqB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAArB,CAAA,CAAA,EAAA;IAAA;IAA9D,MAAAwB,WAAA,GAAoBH,EAA0C;IAAC,IAAAI,EAAA;IAAA,IAAAzB,CAAA,CAAA,GAAA,KAAAO,YAAA,EAAA;QAI7DkB,EAAA,GAAA,OAAOlB,YAAY,KAAK,QAA0C,IAA9BA,YAAY,CAAAmB,IAAK,CAAC,CAAC,CAAAC,MAAO,GAAG,CAEjD,GADZpB,YAAY,CAAAmB,IAAK,CACN,CAAC,GAFhB,YAEgB;QAAA1B,CAAA,CAAA,GAAA,GAAAO,YAAA;QAAAP,CAAA,CAAA,GAAA,GAAAyB,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAzB,CAAA,CAAA,GAAA;IAAA;IAHlB,MAAA4B,aAAA,GACEH,EAEgB;IAQH,MAAAI,EAAA,GAAA,CAAA,mBAAA,EAAsBL,WAAW,KAAK,UAAwC,GAAxD,cAAwD,GAAxD,UAAwD,EAAE;IAAA,IAAAM,EAAA;IAAA,IAAA9B,CAAA,CAAA,GAAA,KAAAM,MAAA,EAAA;QAElFwB,EAAA,GAAA,CAAA;YAAA,+BAAAC,CAAA,GAAMzB,MAAkB,IAARA,MAAM,CAAC;SAAC,CAAA,CAAA,8BAAA;QAAAN,CAAA,CAAA,GAAA,GAAAM,MAAA;QAAAN,CAAA,CAAA,GAAA,GAAA8B,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAA9B,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAgC,EAAA;IAAA,IAAAhC,CAAA,CAAA,GAAA,KAAAK,KAAA,EAAA;QAEjC2B,EAAA,iBAAA,yMAAA,GAA0C;YAA3B,SAAa,EAAb,aAAa,CAAE3B;sBAAAA,KAAI,CAAE,EAApC,GAA0C;;;;;;QAAAL,CAAA,CAAA,GAAA,GAAAK,KAAA;QAAAL,CAAA,CAAA,GAAA,GAAAgC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAhC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAiC,EAAA;IAAA,IAAAjC,CAAA,CAAA,GAAA,KAAA4B,aAAA,EAAA;QAExCK,EAAA,iBAAA,yMAAA,IAAyC;;gBAAnC,aAAcL;gBAAAA,aAAY,CAAE,EAAlC,IAAyC;;;;;;;QAAA5B,CAAA,CAAA,GAAA,GAAA4B,aAAA;QAAA5B,CAAA,CAAA,GAAA,GAAAiC,EAAA;IAAA,OAAA;QAAAA,EAAA,GAAAjC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAkC,GAAA;IAAA,IAAAlC,CAAA,CAAA,GAAA,KAAAE,MAAA,CAAAC,GAAA,CAAA,8BAAA;QACzC+B,GAAA,iBAAA,yMAAA,IAA+B;YAAf,SAAM,EAAN,MAAM;sBAAC,CAAC,EAAxB,IAA+B;;;;;;QAAAlC,CAAA,CAAA,GAAA,GAAAkC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAlC,CAAA,CAAA,GAAA;IAAA;IAChB,MAAAmC,GAAA,GAAAX,WAAqB,IAArB,MAAqB;IAAA,IAAAY,GAAA;IAAA,IAAApC,CAAA,CAAA,GAAA,KAAAmC,GAAA,EAAA;QAApCC,GAAA,iBAAA,yMAAA,IAA4C;;gBAAtC,QAAS;gBAAAD,GAAoB,CAAE,EAArC,IAA4C;;;;;;;QAAAnC,CAAA,CAAA,GAAA,GAAAmC,GAAA;QAAAnC,CAAA,CAAA,GAAA,GAAAoC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAApC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAqC,GAAA;IAAA,IAAArC,CAAA,CAAA,GAAA,KAAAoC,GAAA,IAAApC,CAAA,CAAA,GAAA,KAAAiC,EAAA,EAAA;QAH9CI,GAAA,iBAAA,yMAAA,GAIM;YAJS,SAA4B,EAA5B,4BAA4B,CACzC;;gBAAAJ,EAAwC,CACxC;gBAAAC,GAA8B,CAC9B;gBAAAE,GAA2C,CAC7C,EAJA,GAIM;;;;;;;QAAApC,CAAA,CAAA,GAAA,GAAAoC,GAAA;QAAApC,CAAA,CAAA,GAAA,GAAAiC,EAAA;QAAAjC,CAAA,CAAA,GAAA,GAAAqC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAArC,CAAA,CAAA,GAAA;IAAA;IAAA,IAAAsC,GAAA;IAAA,IAAAtC,CAAA,CAAA,GAAA,KAAAU,UAAA,IAAAV,CAAA,CAAA,GAAA,KAAAW,SAAA,IAAAX,CAAA,CAAA,GAAA,KAAAY,UAAA,IAAAZ,CAAA,CAAA,GAAA,KAAAoB,KAAA,IAAApB,CAAA,CAAA,GAAA,KAAAqC,GAAA,IAAArC,CAAA,CAAA,GAAA,KAAA6B,EAAA,IAAA7B,CAAA,CAAA,GAAA,KAAA8B,EAAA,IAAA9B,CAAA,CAAA,GAAA,KAAAgC,EAAA,EAAA;QAdRM,GAAA,iBAAA,yMAAA,GAeM;YAdC1B,GAAU,CAAVA,CAAAA,UAAS,CAAC;YACRQ,KAAK,CAALA,CAAAA,KAAI,CAAC;YAAA,GACRV,UAAU;YAAA,GACVC,SAAS;YACF,SAAgF,CAAhF,CAAAkB,EAA+E,CAAC;YACtF,IAAQ,EAAR,QAAQ;YACJ,OAAwB,CAAxB,CAAAC,EAAuB,CAAC,CAEjC;;gBAAAE,EAAyC,CACzC;gBAAAK,GAIK,CACP,EAfA,GAeM;;;;;;;QAAArC,CAAA,CAAA,GAAA,GAAAU,UAAA;QAAAV,CAAA,CAAA,GAAA,GAAAW,SAAA;QAAAX,CAAA,CAAA,GAAA,GAAAY,UAAA;QAAAZ,CAAA,CAAA,GAAA,GAAAoB,KAAA;QAAApB,CAAA,CAAA,GAAA,GAAAqC,GAAA;QAAArC,CAAA,CAAA,GAAA,GAAA6B,EAAA;QAAA7B,CAAA,CAAA,GAAA,GAAA8B,EAAA;QAAA9B,CAAA,CAAA,GAAA,GAAAgC,EAAA;QAAAhC,CAAA,CAAA,GAAA,GAAAsC,GAAA;IAAA,OAAA;QAAAA,GAAA,GAAAtC,CAAA,CAAA,GAAA;IAAA;IAAA,OAfNsC,GAeM;AAAA;;;QA/B6D1C,iMAAW;;;KAbnEE","ignoreList":[],"debugId":null}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["C:/Users/Window/Desktop/Teamflow/frontend/src/components/TaskBoard.tsx"],"sourcesContent":["\"use client\";\r\n// frontend/src/components/TaskBoard.tsx\r\nimport React, { useState } from \"react\";\r\nimport {\r\n  DndContext,\r\n  DragEndEvent,\r\n  PointerSensor,\r\n  useSensor,\r\n  useSensors,\r\n  closestCenter,\r\n  DragStartEvent,\r\n  useDroppable,\r\n} from \"@dnd-kit/core\";\r\nimport {\r\n  arrayMove,\r\n  SortableContext,\r\n  verticalListSortingStrategy,\r\n} from \"@dnd-kit/sortable\";\r\nimport SortableItem from \"./dnd/SortableItem\";\r\n\r\nexport type Task = {\r\n  id: string;\r\n  title: string;\r\n  position?: number;\r\n  description?: string;\r\n  assigneeId?: string | null;\r\n  assigneeName?: string | null;\r\n  status?: string | null; // server may return lowercase/uppercase\r\n};\r\nexport type Column = {\r\n  id: string;\r\n  title: string;\r\n  position?: number;\r\n  tasks: Task[];\r\n};\r\n\r\ntype Props = {\r\n  columns: Column[]; // controlled source of truth\r\n  onMove: (\r\n    taskId: string,\r\n    targetColumnId: string,\r\n    targetPosition: number\r\n  ) => Promise<void>;\r\n  onColumnsChange?: (cols: Column[]) => void; // called for optimistic updates & rollbacks\r\n  onAddTask?: (columnId: string, title: string) => Promise<void>;\r\n  onOpenTask?: (taskId: string) => void;\r\n  onDeleteColumn?: (columnId: string) => Promise<void>;\r\n  isManager?: boolean;\r\n};\r\n\r\nfunction EmptyDropPad({ colId }: { colId: string }) {\r\n  const dropId = `empty-${colId}`;\r\n  const { setNodeRef, isOver } = useDroppable({ id: dropId });\r\n  return (\r\n    <div\r\n      ref={setNodeRef}\r\n      data-empty-pad\r\n      style={{\r\n        minHeight: 48,\r\n        borderRadius: 6,\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        opacity: isOver ? 0.7 : 0.08,\r\n      }}\r\n      className=\"bg-white/10\"\r\n    >\r\n      {isOver ? \"Release to drop\" : \"\"}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default function TaskBoard({\r\n  columns = [],\r\n  onMove,\r\n  onColumnsChange,\r\n  onAddTask,\r\n  onOpenTask,\r\n  onDeleteColumn,\r\n  isManager = false,\r\n}: Props) {\r\n  const sensors = useSensors(\r\n    useSensor(PointerSensor, { activationConstraint: { distance: 5 } })\r\n  );\r\n  const [newTaskTitles, setNewTaskTitles] = useState<Record<string, string>>(\r\n    {}\r\n  );\r\n\r\n  function findColumnByContainedId(id: string) {\r\n    if (id.startsWith(\"empty-\")) {\r\n      const cid = id.slice(\"empty-\".length);\r\n      const byCol = columns.find((c) => c.id === cid);\r\n      if (byCol)\r\n        return { column: byCol, matchedBy: \"empty-pad\" as const, rawId: id };\r\n    }\r\n\r\n    const byTask = columns.find((c) =>\r\n      (c.tasks || []).some((t) => t.id === id)\r\n    );\r\n    if (byTask)\r\n      return { column: byTask, matchedBy: \"task\" as const, rawId: id };\r\n\r\n    const byCol = columns.find((c) => c.id === id);\r\n    if (byCol)\r\n      return { column: byCol, matchedBy: \"column\" as const, rawId: id };\r\n\r\n    return null;\r\n  }\r\n\r\n  async function handleDragEnd(event: DragEndEvent) {\r\n    const { active, over } = event;\r\n    if (!over) return;\r\n\r\n    const activeId = String(active.id);\r\n    const overId = String(over.id);\r\n    if (activeId === overId) return;\r\n\r\n    const sourceInfo = findColumnByContainedId(activeId);\r\n    const destInfo = findColumnByContainedId(overId);\r\n    if (!sourceInfo || !destInfo) return;\r\n\r\n    const sourceCol = sourceInfo.column;\r\n    const destCol = destInfo.column;\r\n\r\n    const prevCols = columns.map((c) => ({\r\n      ...c,\r\n      tasks: [...(c.tasks || [])],\r\n    }));\r\n\r\n    // same-column reorder\r\n    if (\r\n      sourceCol.id === destCol.id &&\r\n      sourceInfo.matchedBy === \"task\" &&\r\n      destInfo.matchedBy === \"task\"\r\n    ) {\r\n      const sourceIndex = sourceCol.tasks.findIndex((t) => t.id === activeId);\r\n      const destIndex = destCol.tasks.findIndex((t) => t.id === overId);\r\n      if (sourceIndex === -1 || destIndex === -1) return;\r\n\r\n      const newTasks = arrayMove([...sourceCol.tasks], sourceIndex, destIndex);\r\n      const newCols = columns.map((c) =>\r\n        c.id === sourceCol.id ? { ...c, tasks: newTasks } : c\r\n      );\r\n      onColumnsChange?.(newCols);\r\n      try {\r\n        await onMove(activeId, destCol.id, destIndex);\r\n      } catch {\r\n        onColumnsChange?.(prevCols);\r\n      }\r\n      return;\r\n    }\r\n\r\n    // cross-column move\r\n    const srcTasks = [...(sourceCol.tasks || [])];\r\n    const dstTasks = [...(destCol.tasks || [])];\r\n\r\n    const sourceIndex = srcTasks.findIndex((t) => t.id === activeId);\r\n    if (sourceIndex === -1) return;\r\n\r\n    let destIndex = dstTasks.findIndex((t) => t.id === overId);\r\n    if (destIndex === -1) {\r\n      destIndex = dstTasks.length;\r\n    }\r\n\r\n    const [moved] = srcTasks.splice(sourceIndex, 1);\r\n    dstTasks.splice(destIndex, 0, moved);\r\n\r\n    const newCols = columns.map((c) => {\r\n      if (c.id === sourceCol.id) return { ...c, tasks: srcTasks };\r\n      if (c.id === destCol.id) return { ...c, tasks: dstTasks };\r\n      return c;\r\n    });\r\n\r\n    onColumnsChange?.(newCols);\r\n\r\n    try {\r\n      await onMove(activeId, destCol.id, destIndex);\r\n    } catch {\r\n      onColumnsChange?.(prevCols);\r\n    }\r\n  }\r\n\r\n  function handleDragStart(_e: DragStartEvent) {}\r\n\r\n  async function handleAddTask(columnId: string) {\r\n    const title = (newTaskTitles[columnId] || \"\").trim();\r\n    if (!title) return;\r\n    setNewTaskTitles((s) => ({ ...s, [columnId]: \"\" }));\r\n    if (onAddTask) {\r\n      try {\r\n        await onAddTask(columnId, title);\r\n      } catch (err) {\r\n        setNewTaskTitles((s) => ({ ...s, [columnId]: title }));\r\n      }\r\n    }\r\n  }\r\n\r\n  async function handleDeleteColumn(column: Column) {\r\n    if ((column.tasks || []).length > 0) {\r\n      alert(\"Cannot delete a column that contains tasks. Remove tasks first.\");\r\n      return;\r\n    }\r\n    if (!confirm(`Delete column \"${column.title}\"? This cannot be undone.`))\r\n      return;\r\n    if (!onDeleteColumn) return;\r\n    try {\r\n      await onDeleteColumn(column.id);\r\n    } catch (err) {\r\n      console.error(\"delete column failed\", err);\r\n      alert(\"Failed to delete column\");\r\n    }\r\n  }\r\n\r\n  // helper: normalize status string\r\n  const statusOf = (t: Task) =>\r\n    t.status ? String(t.status).toUpperCase() : \"\";\r\n\r\n  return (\r\n    <DndContext\r\n      sensors={sensors}\r\n      collisionDetection={closestCenter}\r\n      onDragEnd={handleDragEnd}\r\n      onDragStart={handleDragStart}\r\n    >\r\n      <div className=\"w-full overflow-x-auto\">\r\n        <div className=\"flex gap-4 px-2\" style={{ minHeight: \"60vh\" }}>\r\n          {columns.map((col) => {\r\n            const inProgressCount = (col.tasks || []).filter(\r\n              (t) => statusOf(t) === \"IN_PROGRESS\"\r\n            ).length;\r\n            const doneCount = (col.tasks || []).filter(\r\n              (t) => statusOf(t) === \"FINISHED\"\r\n            ).length;\r\n\r\n            return (\r\n              <div\r\n                key={col.id}\r\n                className=\"shrink-0 bg-gray-100 rounded overflow-hidden\"\r\n                style={{\r\n                  width: 320,\r\n                  display: \"flex\",\r\n                  flexDirection: \"column\",\r\n                  height: \"70vh\",\r\n                }}\r\n              >\r\n                {/* header */}\r\n                <div\r\n                  className=\"px-3 py-2 border-b bg-white flex items-center justify-between\"\r\n                  style={{ flexShrink: 0 }}\r\n                >\r\n                  <div className=\"flex items-center gap-3\">\r\n                    <div className=\"font-semibold text-sm truncate\">\r\n                      {col.title}\r\n                    </div>\r\n                    <div className=\"text-xs text-gray-600\">\r\n                      <span className=\"mr-2\">In-Progress: {inProgressCount}</span>\r\n                      <span>Done: {doneCount}</span>\r\n                    </div>\r\n                  </div>\r\n\r\n                  {isManager ? (\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <button\r\n                        onClick={() => handleDeleteColumn(col)}\r\n                        className=\"text-sm text-red-600 px-2 py-1 border rounded\"\r\n                        title=\"Delete column (only if empty)\"\r\n                      >\r\n                        Delete\r\n                      </button>\r\n                    </div>\r\n                  ) : null}\r\n                </div>\r\n\r\n                {/* body */}\r\n                <div className=\"p-3 overflow-y-auto\" style={{ flex: 1 }}>\r\n                  <SortableContext\r\n                    items={(col.tasks || []).map((t) => t.id)}\r\n                    strategy={verticalListSortingStrategy}\r\n                  >\r\n                    <div className=\"space-y-2\">\r\n                      {(col.tasks || []).length > 0 ? (\r\n                        (col.tasks || []).map((t) => (\r\n                          <SortableItem\r\n                            key={t.id}\r\n                            id={t.id}\r\n                            title={t.title}\r\n                            assigneeName={t.assigneeName}\r\n                            status={t.status}\r\n                            onOpen={() => onOpenTask?.(t.id)}\r\n                          />\r\n                        ))\r\n                      ) : (\r\n                        <EmptyDropPad colId={col.id} />\r\n                      )}\r\n                    </div>\r\n                  </SortableContext>\r\n                </div>\r\n\r\n                {/* footer */}\r\n                <div\r\n                  className=\"p-3 border-t bg-white\"\r\n                  style={{ flexShrink: 0 }}\r\n                >\r\n                  <div className=\"flex gap-2\">\r\n                    <input\r\n                      value={newTaskTitles[col.id] || \"\"}\r\n                      onChange={(e) =>\r\n                        setNewTaskTitles((prev) => ({\r\n                          ...prev,\r\n                          [col.id]: e.target.value,\r\n                        }))\r\n                      }\r\n                      placeholder={`New task in ${col.title}`}\r\n                      className=\"flex-1 px-2 py-1 border rounded\"\r\n                    />\r\n                    <button\r\n                      onClick={() => handleAddTask(col.id)}\r\n                      className=\"px-3 py-1 bg-green-600 text-white rounded\"\r\n                    >\r\n                      Add\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </DndContext>\r\n  );\r\n}\r\n"],"names":["c","_c","React","useState","DndContext","DragEndEvent","PointerSensor","useSensor","useSensors","closestCenter","DragStartEvent","useDroppable","arrayMove","SortableContext","verticalListSortingStrategy","SortableItem","Task","id","title","position","description","assigneeId","assigneeName","status","Column","tasks","Props","columns","onMove","taskId","targetColumnId","targetPosition","Promise","onColumnsChange","cols","onAddTask","columnId","onOpenTask","onDeleteColumn","isManager","EmptyDropPad","t0","$","$i","Symbol","for","colId","dropId","t1","setNodeRef","isOver","t2","t3","minHeight","borderRadius","display","alignItems","justifyContent","opacity","t4","t5","TaskBoard","undefined","activationConstraint","distance","sensors","newTaskTitles","setNewTaskTitles","t6","findColumnByContainedId","startsWith","cid","slice","byCol","find","column","matchedBy","const","rawId","byTask","c_0","some","t","byCol_0","c_1","t7","handleDragEnd","event","active","over","activeId","String","overId","sourceInfo","destInfo","sourceCol","destCol","prevCols","map","_TaskBoardHandleDragEndColumnsMap","sourceIndex","findIndex","t_0","destIndex","t_1","newTasks","newCols","c_3","srcTasks","dstTasks","sourceIndex_0","t_2","destIndex_0","t_3","length","moved","splice","newCols_0","c_4","t8","handleDragStart","_e","t9","handleAddTask","trim","s","t10","s_0","handleDeleteColumn","alert","confirm","t11","err","console","error","statusOf","_TaskBoardStatusOf","t12","t13","col","inProgressCount","filter","t_5","doneCount","t_6","width","flexDirection","height","flexShrink","TaskBoard[columns.map() > <button>.onClick]","flex","_TaskBoardColumnsMapAnonymous","t_8","TaskBoard[columns.map() > (anonymous)() > <SortableItem>.onOpen]","e","prev","target","value","t14","t_7","t_4","toUpperCase","c_2"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 869, "column": 0}, "map": {"version":3,"sources":["C:/Users/Window/Desktop/Teamflow/frontend/src/components/TaskModal.tsx"],"sourcesContent":["'use client';\r\n// frontend/src/components/TaskModal.tsx\r\nimport React, { useEffect, useState } from \"react\";\r\n\r\ntype Task = {\r\n  id: string;\r\n  title?: string | null;\r\n  description?: string | null;\r\n  assigneeId?: string | null;\r\n  status?: \"TODO\" | \"IN_PROGRESS\" | \"FINISHED\" | null;\r\n};\r\n\r\ntype TeamMember = {\r\n  id: string;\r\n  role?: string;\r\n  user?: { id: string; name?: string | null; email?: string | null };\r\n  busyElsewhere?: boolean | number | null;\r\n};\r\n\r\ntype Props = {\r\n  task: Task | null;\r\n  projectId?: string | null;\r\n  teamMembers?: TeamMember[];\r\n  assignedUserIds?: string[]; // users assigned in THIS project\r\n  onClose: () => void;\r\n  onSave: (updates: {\r\n    title?: string;\r\n    description?: string;\r\n    assigneeId?: string | null;\r\n    status?: Task[\"status\"];\r\n  }) => Promise<any>;\r\n  onDelete: () => Promise<void>;\r\n};\r\n\r\nexport default function TaskModal({\r\n  task,\r\n  teamMembers = [],\r\n  assignedUserIds = [],\r\n  onClose,\r\n  onSave,\r\n  onDelete,\r\n}: Props) {\r\n  const [title, setTitle] = useState(\"\");\r\n  const [description, setDescription] = useState(\"\");\r\n  const [assigneeId, setAssigneeId] = useState<string | null>(null);\r\n  const [status, setStatus] = useState<Task[\"status\"]>(\"TODO\");\r\n  const [saving, setSaving] = useState(false);\r\n  const [deleting, setDeleting] = useState(false);\r\n  const [err, setErr] = useState<string | null>(null);\r\n\r\n  // initialize local editable state when task changes\r\n  useEffect(() => {\r\n    if (!task) return;\r\n    setTitle(task.title ?? \"\");\r\n    setDescription(task.description ?? \"\");\r\n    setAssigneeId(task.assigneeId ?? null);\r\n    setStatus((task.status as Task[\"status\"]) ?? \"TODO\");\r\n    setErr(null);\r\n  }, [task]);\r\n\r\n  if (!task) return null;\r\n\r\n  // Build options: map members -> { user, member }, filter out members who already have\r\n  // a task in THIS project (assignedUserIds) except allow current assignee to remain selectable.\r\n  const options = (teamMembers || [])\r\n    .map((m) => {\r\n      const user = m.user ?? { id: m.id, name: undefined, email: undefined };\r\n      return { member: m, user };\r\n    })\r\n    .filter(({ user }) => {\r\n      const isAssignedInThisProject = (assignedUserIds || []).includes(user.id);\r\n      const isCurrentAssignee = task.assigneeId === user.id;\r\n      if (isAssignedInThisProject && !isCurrentAssignee) return false;\r\n      return true;\r\n    });\r\n\r\n  async function save() {\r\n    setErr(null);\r\n    setSaving(true);\r\n    try {\r\n      // normalize assigneeId: treat \"\", \"null\", undefined as null\r\n      let assigneeForPayload: string | null = assigneeId ?? null;\r\n      if (assigneeForPayload === \"\" || assigneeForPayload === \"null\") assigneeForPayload = null;\r\n\r\n      // If task marked FINISHED we also clear assignee (as requested)\r\n      if (status === \"FINISHED\") assigneeForPayload = null;\r\n\r\n      const payload = {\r\n        title: title.trim() || undefined,\r\n        description: description.trim() || undefined,\r\n        assigneeId: assigneeForPayload,\r\n        status,\r\n      };\r\n\r\n      const result = await onSave(payload);\r\n      setSaving(false);\r\n      onClose();\r\n      return result;\r\n    } catch (e: any) {\r\n      setSaving(false);\r\n      const msg = e?.body?.message ?? e?.message ?? \"Save failed\";\r\n      setErr(msg);\r\n      throw e;\r\n    }\r\n  }\r\n\r\n  async function remove() {\r\n    if (!confirm(\"Delete this task? This cannot be undone.\")) return;\r\n    setDeleting(true);\r\n    try {\r\n      await onDelete();\r\n      setDeleting(false);\r\n      onClose();\r\n    } catch (e: any) {\r\n      setDeleting(false);\r\n      const msg = e?.body?.message ?? e?.message ?? \"Delete failed\";\r\n      setErr(msg);\r\n    }\r\n  }\r\n\r\n  // helper to display label and indicator (ðŸ”´) when busyElsewhere\r\n  const optionLabel = (user: { id?: string; name?: string | null; email?: string | null }, busy?: boolean) => {\r\n    const nameOrEmailOrId = (user.name && user.name.trim()) || (user.email && user.email.trim()) || user.id || 'Unknown';\r\n    return busy ? `ðŸ”´ ${nameOrEmailOrId} (busy elsewhere)` : nameOrEmailOrId;\r\n  };\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 z-50 flex items-center justify-center\">\r\n      <div className=\"absolute inset-0 bg-black/40\" onClick={onClose} />\r\n      <div className=\"relative w-full max-w-2xl bg-white rounded shadow-lg p-6 z-10\">\r\n        <h3 className=\"text-lg font-semibold mb-3\">Edit task</h3>\r\n\r\n        {err && <div className=\"mb-3 text-sm text-red-600\">{err}</div>}\r\n\r\n        <label className=\"block mb-2 text-sm\">Title</label>\r\n        <input\r\n          value={title}\r\n          onChange={(e) => setTitle(e.target.value)}\r\n          className=\"w-full px-3 py-2 border rounded mb-3\"\r\n        />\r\n\r\n        <label className=\"block mb-2 text-sm\">Description</label>\r\n        <textarea\r\n          value={description}\r\n          onChange={(e) => setDescription(e.target.value)}\r\n          className=\"w-full px-3 py-2 border rounded mb-3\"\r\n          rows={5}\r\n        />\r\n\r\n        <label className=\"block mb-2 text-sm\">Status</label>\r\n        <select\r\n          value={status ?? \"TODO\"}\r\n          onChange={(e) => setStatus(e.target.value as Task[\"status\"])}\r\n          className=\"w-full px-3 py-2 border rounded mb-3\"\r\n        >\r\n          <option value=\"TODO\">TODO</option>\r\n          <option value=\"IN_PROGRESS\">IN_PROGRESS</option>\r\n          <option value=\"FINISHED\">FINISHED</option>\r\n        </select>\r\n\r\n        <label className=\"block mb-2 text-sm\">Assignee</label>\r\n        <select\r\n          value={assigneeId ?? \"\"}\r\n          onChange={(e) => {\r\n            const v = e.target.value;\r\n            setAssigneeId(v === \"\" ? null : v);\r\n          }}\r\n          className=\"w-full px-3 py-2 border rounded mb-4\"\r\n        >\r\n          <option value=\"\">Unassigned</option>\r\n          {options.map(({ user, member }) => {\r\n            const busyElsewhere = !!(member as any).busyElsewhere;\r\n            const label = optionLabel(user, busyElsewhere);\r\n\r\n            // inline style is a hint; some browsers ignore option styling â€” emoji ensures visibility\r\n            return (\r\n              <option\r\n                key={user.id}\r\n                value={user.id}\r\n                style={busyElsewhere ? { backgroundColor: \"#fff0f0\" } : undefined}\r\n              >\r\n                {label}\r\n              </option>\r\n            );\r\n          })}\r\n        </select>\r\n\r\n        <div className=\"flex justify-between\">\r\n          <div className=\"flex gap-2\">\r\n            <button\r\n              onClick={save}\r\n              className=\"bg-indigo-600 text-white px-4 py-2 rounded\"\r\n              disabled={saving}\r\n            >\r\n              {saving ? \"Saving...\" : \"Save\"}\r\n            </button>\r\n            <button\r\n              onClick={onClose}\r\n              className=\"px-4 py-2 rounded border\"\r\n              disabled={saving || deleting}\r\n            >\r\n              Cancel\r\n            </button>\r\n          </div>\r\n\r\n          <div>\r\n            <button\r\n              onClick={remove}\r\n              className=\"px-3 py-2 rounded bg-red-600 text-white\"\r\n              disabled={deleting}\r\n            >\r\n              {deleting ? \"Deleting...\" : \"Delete\"}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":["React","useEffect","useState","Task","id","title","description","assigneeId","status","TeamMember","role","user","name","email","busyElsewhere","Props","task","projectId","teamMembers","assignedUserIds","onClose","onSave","updates","Promise","onDelete","TaskModal","setTitle","setDescription","setAssigneeId","setStatus","saving","setSaving","deleting","setDeleting","err","setErr","options","map","m","undefined","member","filter","isAssignedInThisProject","includes","isCurrentAssignee","save","assigneeForPayload","payload","trim","result","e","msg","body","message","remove","confirm","optionLabel","busy","nameOrEmailOrId","target","value","v","label","backgroundColor"],"mappings":"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","ignoreList":[],"debugId":null}},
    {"offset": {"line": 1197, "column": 0}, "map": {"version":3,"sources":["C:/Users/Window/Desktop/Teamflow/frontend/src/app/projects/[id]/page.tsx"],"sourcesContent":["\"use client\";\r\n// frontend/src/app/projects/[id]/page.tsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams } from \"next/navigation\";\r\nimport {\r\n  getProject,\r\n  createColumn,\r\n  createTask,\r\n  moveTask,\r\n  updateTask,\r\n  deleteTask,\r\n  getTeamMembers,\r\n  deleteColumn,\r\n} from \"../../../lib/api\";\r\nimport TaskBoard, { Column } from \"../../../components/TaskBoard\";\r\nimport TaskModal from \"../../../components/TaskModal\";\r\nimport { useAuth } from \"../../../context/AuthContext\";\r\n\r\ntype TaskShape = {\r\n  id: string;\r\n  title?: string;\r\n  description?: string | null;\r\n  assigneeId?: string | null;\r\n  status?: \"TODO\" | \"IN_PROGRESS\" | \"FINISHED\" | null;\r\n};\r\nfunction formatDateShort(dateStr?: string | null) {\r\n  if (!dateStr) return \"â€”\";\r\n  try {\r\n    const d = new Date(dateStr);\r\n    return new Intl.DateTimeFormat(\"en-GB\", {\r\n      day: \"2-digit\",\r\n      month: \"short\",\r\n      year: \"numeric\",\r\n    }).format(d);\r\n  } catch {\r\n    return dateStr;\r\n  }\r\n}\r\nexport default function ProjectBoard() {\r\n  const params = useParams();\r\n  const projectId = params.id;\r\n  const { user } = useAuth();\r\n  const [project, setProject] = useState<any | null>(null);\r\n  const [teamMembers, setTeamMembers] = useState<any[]>([]);\r\n  const [msg, setMsg] = useState<string | null>(null);\r\n  const [newColTitle, setNewColTitle] = useState(\"\");\r\n  const [openTask, setOpenTask] = useState<any | null>(null);\r\n\r\n  useEffect(() => {\r\n    if (!projectId) return;\r\n    let cancelled = false;\r\n    (async () => {\r\n      try {\r\n        const p = await getProject(projectId);\r\n        const normalized = {\r\n          ...p,\r\n          columns: (p?.columns || []).map((c: any) => ({\r\n            ...c,\r\n            tasks: c?.tasks || [],\r\n          })),\r\n        };\r\n        if (cancelled) return;\r\n        setProject(normalized);\r\n\r\n        if (normalized.teamId) {\r\n          try {\r\n            const members = await getTeamMembers(normalized.teamId);\r\n            if (!cancelled) setTeamMembers(members || []);\r\n          } catch {\r\n            if (!cancelled) setTeamMembers([]);\r\n          }\r\n        } else {\r\n          setTeamMembers([]);\r\n        }\r\n      } catch (err) {\r\n        if (!cancelled) setMsg(\"Failed to load project\");\r\n      }\r\n    })();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [projectId]);\r\n\r\n  async function addColumn(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setMsg(null);\r\n    const title = (newColTitle || \"\").trim();\r\n    if (!title) {\r\n      setMsg(\"Column title required\");\r\n      return;\r\n    }\r\n    try {\r\n      const col = await createColumn(project.id, title);\r\n      const newCol = { ...col, tasks: col?.tasks || [] };\r\n      setProject((prev) => (prev ? { ...prev, columns: [...prev.columns, newCol] } : prev));\r\n      setNewColTitle(\"\");\r\n    } catch (err: any) {\r\n      setMsg(err?.body?.message || \"Failed to create column\");\r\n    }\r\n  }\r\n\r\n  function handleColumnsChange(cols: Column[]) {\r\n    setProject((prev) => (prev ? { ...prev, columns: cols } : prev));\r\n  }\r\n\r\n  async function handleMove(taskId: string, targetColumnId: string, targetPosition: number) {\r\n    try {\r\n      await moveTask(taskId, targetColumnId, targetPosition);\r\n    } catch (err: any) {\r\n      setMsg(err?.body?.message || \"Failed to move task\");\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  async function handleAddTask(columnId: string, title: string) {\r\n    setMsg(null);\r\n    try {\r\n      const t = await createTask(columnId, title);\r\n      setProject((prev) => {\r\n        if (!prev) return prev;\r\n        const cols = prev.columns.map((c: any) => (c.id === columnId ? { ...c, tasks: [...(c.tasks || []), t] } : c));\r\n        return { ...prev, columns: cols };\r\n      });\r\n    } catch (err: any) {\r\n      setMsg(err?.body?.message || \"Failed to create task\");\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  function handleOpenTask(taskId: string) {\r\n    if (!project) return;\r\n    for (const col of project.columns || []) {\r\n      const t = (col.tasks || []).find((x: TaskShape) => x.id === taskId);\r\n      if (t) {\r\n        setOpenTask({ ...t, columnId: col.id });\r\n        return;\r\n      }\r\n    }\r\n  }\r\n\r\n  async function handleSaveTask(updates: {\r\n    title?: string;\r\n    description?: string;\r\n    assigneeId?: string | null;\r\n    status?: TaskShape[\"status\"];\r\n  }) {\r\n    if (!openTask) throw new Error(\"no task open\");\r\n    setMsg(null);\r\n    const taskId = openTask.id;\r\n    try {\r\n      const updated = await updateTask(taskId, updates);\r\n      setProject((prev) => {\r\n        if (!prev) return prev;\r\n        const cols = prev.columns.map((c: any) => ({\r\n          ...c,\r\n          tasks: (c.tasks || []).map((t: any) => (t.id === taskId ? { ...t, ...updated } : t)),\r\n        }));\r\n        return { ...prev, columns: cols };\r\n      });\r\n\r\n      // refresh members\r\n      if (project?.teamId) {\r\n        try {\r\n          const members = await getTeamMembers(project.teamId);\r\n          setTeamMembers(members || []);\r\n        } catch {\r\n          // ignore\r\n        }\r\n      }\r\n\r\n      setOpenTask((prev: any) => ({ ...(prev || {}), ...updated }));\r\n      return updated;\r\n    } catch (err: any) {\r\n      setMsg(err?.body?.message || \"Failed to save task\");\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  async function handleDeleteTask() {\r\n    if (!openTask) throw new Error(\"no task open\");\r\n    const taskId = openTask.id;\r\n    try {\r\n      await deleteTask(taskId);\r\n      setProject((prev) => {\r\n        if (!prev) return prev;\r\n        const cols = prev.columns.map((c: any) => ({ ...c, tasks: (c.tasks || []).filter((t: any) => t.id !== taskId) }));\r\n        return { ...prev, columns: cols };\r\n      });\r\n      setOpenTask(null);\r\n    } catch (err: any) {\r\n      setMsg(err?.body?.message || \"Failed to delete task\");\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  async function handleDeleteColumn(columnId: string) {\r\n    setMsg(null);\r\n    const col = (project?.columns || []).find((c: any) => c.id === columnId);\r\n    if (!col) {\r\n      setMsg(\"Column not found\");\r\n      return;\r\n    }\r\n    if ((col.tasks || []).length > 0) {\r\n      setMsg(\"Cannot delete column that contains tasks. Remove tasks first.\");\r\n      return;\r\n    }\r\n    if (!confirm(\"Delete this column?\")) return;\r\n    try {\r\n      await deleteColumn(columnId);\r\n      setProject((prev) => {\r\n        if (!prev) return prev;\r\n        return { ...prev, columns: prev.columns.filter((c: any) => c.id !== columnId) };\r\n      });\r\n    } catch (err: any) {\r\n      setMsg(err?.body?.message || \"Failed to delete column\");\r\n    }\r\n  }\r\n\r\n  function computeAssignedUserIds() {\r\n    if (!project) return [];\r\n    const ids: string[] = [];\r\n    for (const c of project.columns || []) {\r\n      for (const t of c.tasks || []) {\r\n        if (t.assigneeId) ids.push(t.assigneeId);\r\n      }\r\n    }\r\n    return [...new Set(ids)];\r\n  }\r\n\r\n  const isManager = React.useMemo(() => {\r\n    if (!user) return false;\r\n    if (user.role === \"admin\") return true;\r\n    const m = (teamMembers || []).find(\r\n      (x: any) => (x.user?.id ?? x.id) === user.id && [\"owner\", \"admin\"].includes(x.role)\r\n    );\r\n    return !!m;\r\n  }, [user, teamMembers]);\r\n\r\n  if (!project) return <div className=\"pt-20 max-w-6xl mx-auto px-4\">Loading project...</div>;\r\n\r\n  const totalTasks = project.columns?.reduce((acc: number, c: any) => acc + (c.tasks?.length || 0), 0) ?? 0;\r\n  const finishedTasks = project.columns?.reduce((acc: number, c: any) => acc + (c.tasks?.filter((t: any) => t.status === \"FINISHED\").length || 0), 0) ?? 0;\r\n  const progress = totalTasks === 0 ? 0 : Math.round((finishedTasks / totalTasks) * 100);\r\n\r\n  return (\r\n    <div className=\"w-full\">\r\n      <div className=\"flex justify-between items-start\">\r\n        <div className=\"text-center\">\r\n          <h2 className=\"text-3xl font-bold text-slate-900\">{project.name}</h2>\r\n          <p className=\"text-sm text-slate-500 mt-1\">{project.description}</p>\r\n          <div className=\"flex items-center gap-3 mt-3 text-sm\">\r\n            {project.team && <span className=\"px-2 py-1 bg-slate-100 rounded text-slate-700\">{project.team.name}</span>}\r\n            {project.dueDate && <span className=\"text-sm text-slate-600\">Due {formatDateShort(project.dueDate)}</span>}\r\n            <span className=\"text-sm text-slate-600\">Tasks: {totalTasks}</span>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"min-w-[220px] bg-white border rounded p-4 shadow-sm\">\r\n          <div className=\"text-sm text-slate-500\">Progress</div>\r\n          <div className=\"mt-2 flex items-center gap-3\">\r\n            <div className=\"w-full bg-slate-100 h-3 rounded overflow-hidden\">\r\n              <div style={{ width: `${progress}%` }} className=\"h-3 bg-indigo-600 rounded\" />\r\n            </div>\r\n            <div className=\"text-sm font-medium\">{progress}%</div>\r\n          </div>\r\n\r\n          <div className=\"mt-3 text-sm\">\r\n            <div>Members: {teamMembers.length}</div>\r\n            <div>Status: <span className=\"ml-2 font-medium\">{project.status ?? \"Active\"}</span></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {msg && <div className=\"mb-3 text-rose-600\">{msg}</div>}\r\n\r\n      <div className=\"mb-4\">\r\n        <form onSubmit={addColumn} className=\"flex gap-2 items-center\">\r\n          <input\r\n            value={newColTitle}\r\n            onChange={(e) => setNewColTitle(e.target.value)}\r\n            placeholder=\"New column title\"\r\n            className=\"px-3 py-2 border rounded flex-1\"\r\n          />\r\n          <button className=\"bg-indigo-600 text-white px-4 py-2 rounded\">Add column</button>\r\n        </form>\r\n      </div>\r\n\r\n      <div className=\"bg-white border rounded p-4 shadow-sm\">\r\n        <TaskBoard\r\n          columns={project.columns as Column[]}\r\n          onMove={handleMove}\r\n          onColumnsChange={handleColumnsChange}\r\n          onAddTask={handleAddTask}\r\n          onOpenTask={handleOpenTask}\r\n          onDeleteColumn={handleDeleteColumn}\r\n          isManager={isManager}\r\n        />\r\n      </div>\r\n\r\n      <TaskModal\r\n        task={openTask}\r\n        projectId={project.id}\r\n        teamMembers={teamMembers || []}\r\n        assignedUserIds={computeAssignedUserIds()}\r\n        onClose={() => setOpenTask(null)}\r\n        onSave={handleSaveTask}\r\n        onDelete={handleDeleteTask}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n"],"names":["React","useEffect","useState","useParams","getProject","createColumn","createTask","moveTask","updateTask","deleteTask","getTeamMembers","deleteColumn","TaskBoard","Column","TaskModal","useAuth","TaskShape","id","title","description","assigneeId","status","formatDateShort","dateStr","d","Date","Intl","DateTimeFormat","day","month","year","format","ProjectBoard","params","projectId","user","project","setProject","teamMembers","setTeamMembers","msg","setMsg","newColTitle","setNewColTitle","openTask","setOpenTask","cancelled","p","normalized","columns","map","c","tasks","teamId","members","err","addColumn","e","FormEvent","preventDefault","trim","col","newCol","prev","body","message","handleColumnsChange","cols","handleMove","taskId","targetColumnId","targetPosition","handleAddTask","columnId","t","handleOpenTask","find","x","handleSaveTask","updates","Error","updated","handleDeleteTask","filter","handleDeleteColumn","length","confirm","computeAssignedUserIds","ids","push","Set","isManager","useMemo","role","m","includes","totalTasks","reduce","acc","finishedTasks","progress","Math","round","name","team","dueDate","width","target","value"],"mappings":"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","ignoreList":[],"debugId":null}}]
}