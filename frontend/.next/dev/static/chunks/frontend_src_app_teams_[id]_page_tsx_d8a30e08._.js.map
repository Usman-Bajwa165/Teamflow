{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["C:/Users/Window/Desktop/Teamflow/frontend/src/app/teams/[id]/page.tsx"],"sourcesContent":["\"use client\";\r\n// frontend/src/app/teams/[id]/page.tsx\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useParams, useRouter } from \"next/navigation\";\r\nimport Link from \"next/link\";\r\nimport { useAuth } from \"../../../context/AuthContext\";\r\nimport { getTeamDetails as apiGetTeamDetails } from \"../../../lib/api\";\r\n\r\ntype UserBase = {\r\n  id: string;\r\n  email: string;\r\n  name?: string | null;\r\n  // optional helpers some admin endpoints return:\r\n  _count?: { teamMembers?: number };\r\n  teamIds?: string[]; // if backend provides array of team ids\r\n};\r\ntype TeamMember = {\r\n  id: string;\r\n  role: \"owner\" | \"admin\" | \"member\" | string;\r\n  user: UserBase;\r\n};\r\ntype Team = {\r\n  id: string;\r\n  name: string;\r\n  ownerId?: string | null;\r\n  members?: TeamMember[];\r\n  projects?: { id: string; name?: string; description?: string }[];\r\n};\r\n\r\nconst API_BASE = process.env.NEXT_PUBLIC_API_BASE ?? \"http://localhost:4000\";\r\n\r\nexport default function TeamPage() {\r\n  const params = useParams();\r\n  const router = useRouter();\r\n  const teamId = Array.isArray(params?.id) ? params.id[0] : params?.id;\r\n  const { user } = useAuth();\r\n\r\n  // local state\r\n  const [team, setTeam] = useState<Team | null>(null);\r\n  const [loading, setLoading] = useState<boolean>(false);\r\n  const [msg, setMsg] = useState<string | null>(null);\r\n\r\n  // invite state\r\n  const [inviteEmail, setInviteEmail] = useState<string>(\"\");\r\n  const [inviteRole, setInviteRole] = useState<\"member\" | \"admin\" | \"owner\">(\r\n    \"member\"\r\n  );\r\n  const [usersList, setUsersList] = useState<UserBase[] | null>(null);\r\n  const [selectedUserId, setSelectedUserId] = useState<string | null>(null);\r\n\r\n  const [processingMemberId, setProcessingMemberId] = useState<string | null>(\r\n    null\r\n  );\r\n\r\n  // delete-confirm UI state\r\n  const [showDeleteConfirm, setShowDeleteConfirm] = useState(false);\r\n  const [deleteNameInput, setDeleteNameInput] = useState(\"\");\r\n  const [deleting, setDeleting] = useState(false);\r\n\r\n  if (!teamId) return <div>Invalid team id</div>;\r\n\r\n  function authHeaders() {\r\n    const t =\r\n      typeof window !== \"undefined\" ? localStorage.getItem(\"tf_access\") : null;\r\n    return {\r\n      \"Content-Type\": \"application/json\",\r\n      ...(t ? { Authorization: `Bearer ${t}` } : {}),\r\n    };\r\n  }\r\n\r\n  // 1) load team (always)\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      setMsg(null);\r\n      setLoading(true);\r\n      try {\r\n        const data = await apiGetTeamDetails(String(teamId));\r\n        if (!mounted) return;\r\n        setTeam(data as Team);\r\n      } catch (err: unknown) {\r\n        const e = err as { status?: number; body?: any } | Error;\r\n        setMsg(\r\n          (e as any)?.body?.message ||\r\n            (e as Error).message ||\r\n            \"Failed to load team\"\r\n        );\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    })();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [teamId]);\r\n\r\n  // 2) load users list ONLY if the signed-in user is a global admin.\r\n  // This avoids hitting /admin/users (404) for non-admin users.\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    (async () => {\r\n      setUsersList(null);\r\n      if (!user?.role || user.role !== \"admin\") return;\r\n      try {\r\n        const res = await fetch(`${API_BASE}/admin/users`, {\r\n          headers: authHeaders(),\r\n        });\r\n        if (!mounted) return;\r\n        if (!res.ok) {\r\n          // don't print to console — fail silently (admins can still manually invite)\r\n          setUsersList(null);\r\n          return;\r\n        }\r\n        const json = await res.json();\r\n        // Expecting an array; if server returns wrapper, try to extract.\r\n        let arr: UserBase[] = [];\r\n        if (Array.isArray(json)) arr = json as UserBase[];\r\n        else if (Array.isArray(json.users)) arr = json.users;\r\n        else if (Array.isArray(json.data)) arr = json.data;\r\n        else arr = json as UserBase[]; // best-effort\r\n        if (mounted) setUsersList(arr);\r\n      } catch {\r\n        if (mounted) setUsersList(null);\r\n      }\r\n    })();\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [user?.role]);\r\n\r\n  const myUserId = user?.id ?? null;\r\n  const myMembership = team?.members?.find((m) => m.user?.id === myUserId);\r\n  const myRoleInTeam = myMembership?.role ?? null;\r\n  const canManage =\r\n    user?.role === \"admin\" ||\r\n    myRoleInTeam === \"owner\" ||\r\n    myRoleInTeam === \"admin\";\r\n\r\n  const ownerName =\r\n    team?.members?.find((m) => m.role === \"owner\")?.user?.name ??\r\n    team?.members?.find((m) => m.role === \"owner\")?.user?.email ??\r\n    team?.ownerId ??\r\n    \"—\";\r\n\r\n  async function reloadTeam() {\r\n    setMsg(null);\r\n    setLoading(true);\r\n    try {\r\n      const data = await apiGetTeamDetails(String(teamId));\r\n      setTeam(data as Team);\r\n    } catch (err: unknown) {\r\n      const e = err as { status?: number; body?: any } | Error;\r\n      setMsg(\r\n        (e as any)?.body?.message ||\r\n          (e as Error).message ||\r\n          \"Failed to reload team\"\r\n      );\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }\r\n\r\n  async function handleInvite(e?: React.FormEvent) {\r\n    e?.preventDefault();\r\n    setMsg(null);\r\n    if (!canManage) {\r\n      setMsg(\"Not permitted\");\r\n      return;\r\n    }\r\n    setProcessingMemberId(\"invite\");\r\n    try {\r\n      let body: { email: string; role: string };\r\n      if (selectedUserId && usersList) {\r\n        const u = usersList.find((x) => x.id === selectedUserId);\r\n        if (!u) throw new Error(\"Selected user not found\");\r\n        body = { email: u.email, role: inviteRole };\r\n      } else {\r\n        if (!inviteEmail) {\r\n          setMsg(\"Enter email or select a user\");\r\n          setProcessingMemberId(null);\r\n          return;\r\n        }\r\n        body = { email: inviteEmail, role: inviteRole };\r\n      }\r\n\r\n      const r = await fetch(`${API_BASE}/teams/${teamId}/invite`, {\r\n        method: \"POST\",\r\n        headers: authHeaders(),\r\n        body: JSON.stringify(body),\r\n      });\r\n      if (!r.ok) {\r\n        const txt = await r.text().catch(() => \"\");\r\n        const parsed = (() => {\r\n          try {\r\n            return JSON.parse(txt);\r\n          } catch {\r\n            return null;\r\n          }\r\n        })();\r\n        const message =\r\n          parsed?.message ||\r\n          parsed?.error ||\r\n          txt ||\r\n          `Invite failed (${r.status})`;\r\n        setMsg(message);\r\n        setProcessingMemberId(null);\r\n        return;\r\n      }\r\n\r\n      setInviteEmail(\"\");\r\n      setSelectedUserId(null);\r\n      setInviteRole(\"member\");\r\n      await reloadTeam();\r\n      setMsg(\"Invitation/added successfully.\");\r\n    } catch (err: unknown) {\r\n      setMsg((err as Error).message || \"Network error\");\r\n    } finally {\r\n      setProcessingMemberId(null);\r\n    }\r\n  }\r\n\r\n  async function changeMemberRole(memberId: string, newRole: string) {\r\n    if (!canManage) {\r\n      setMsg(\"Not permitted\");\r\n      return;\r\n    }\r\n    setProcessingMemberId(memberId);\r\n    try {\r\n      const r = await fetch(\r\n        `${API_BASE}/teams/${teamId}/members/${memberId}/role`,\r\n        {\r\n          method: \"PATCH\",\r\n          headers: authHeaders(),\r\n          body: JSON.stringify({ role: newRole }),\r\n        }\r\n      );\r\n      if (!r.ok) {\r\n        const txt = await r.text().catch(() => \"\");\r\n        throw new Error(txt || `Failed (${r.status})`);\r\n      }\r\n      await reloadTeam();\r\n      setMsg(\"Role updated.\");\r\n    } catch (err: unknown) {\r\n      setMsg((err as Error).message || \"Failed to update role\");\r\n    } finally {\r\n      setProcessingMemberId(null);\r\n    }\r\n  }\r\n\r\n  async function demoteMember(member: TeamMember) {\r\n    const mapping: Record<string, string | null> = {\r\n      owner: \"admin\",\r\n      admin: \"member\",\r\n      member: null,\r\n    };\r\n    const next = mapping[member.role] ?? \"member\";\r\n    if (!next) {\r\n      setMsg(\"Cannot demote further\");\r\n      return;\r\n    }\r\n    await changeMemberRole(member.id, next);\r\n  }\r\n\r\n  async function removeMember(memberId: string) {\r\n    if (!canManage) {\r\n      setMsg(\"Not permitted\");\r\n      return;\r\n    }\r\n    if (!confirm(\"Remove this member from the team?\")) return;\r\n    setProcessingMemberId(memberId);\r\n    try {\r\n      const r = await fetch(`${API_BASE}/teams/${teamId}/members/${memberId}`, {\r\n        method: \"DELETE\",\r\n        headers: authHeaders(),\r\n      });\r\n      if (!r.ok) {\r\n        const txt = await r.text().catch(() => \"\");\r\n        throw new Error(txt || `Failed (${r.status})`);\r\n      }\r\n      await reloadTeam();\r\n      setMsg(\"Member removed.\");\r\n    } catch (err: unknown) {\r\n      setMsg((err as Error).message || \"Failed to remove\");\r\n    } finally {\r\n      setProcessingMemberId(null);\r\n    }\r\n  }\r\n\r\n  function openDeleteForm() {\r\n    setDeleteNameInput(\"\");\r\n    setShowDeleteConfirm(true);\r\n    setMsg(null);\r\n  }\r\n\r\n  async function performDeleteTeam() {\r\n    if (!team) return;\r\n    if (deleteNameInput !== team.name) {\r\n      setMsg(\"Typed name does not match exactly.\");\r\n      return;\r\n    }\r\n    setDeleting(true);\r\n    try {\r\n      const r = await fetch(`${API_BASE}/teams/${teamId}`, {\r\n        method: \"DELETE\",\r\n        headers: authHeaders(),\r\n      });\r\n      if (!r.ok) {\r\n        const txt = await r.text().catch(() => \"\");\r\n        throw new Error(txt || `Delete failed (${r.status})`);\r\n      }\r\n      router.push(\"/teams\");\r\n    } catch (err: unknown) {\r\n      setMsg((err as Error).message || \"Failed to delete team\");\r\n    } finally {\r\n      setDeleting(false);\r\n      setShowDeleteConfirm(false);\r\n    }\r\n  }\r\n\r\n  function userIsInOtherTeam(u: UserBase) {\r\n    // best-effort detection: when backend returned _count or teamIds\r\n    const count =\r\n      typeof u._count?.teamMembers === \"number\"\r\n        ? u._count!.teamMembers\r\n        : undefined;\r\n    const teamIds = Array.isArray((u as any).teamIds)\r\n      ? ((u as any).teamIds as string[])\r\n      : undefined;\r\n    const alreadyInThis = team?.members?.some((m) => m.user?.id === u.id);\r\n    if (typeof count === \"number\") {\r\n      return count > 0 && !alreadyInThis;\r\n    }\r\n    if (Array.isArray(teamIds)) {\r\n      return teamIds.length > 0 && !alreadyInThis;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"mb-4\">\r\n        <Link href=\"/teams\" className=\"text-sm text-blue-600\">\r\n          ← Back to teams\r\n        </Link>\r\n      </div>\r\n\r\n      {loading && <div>Loading team...</div>}\r\n      {msg && <div className=\"mb-3 text-red-600\">{msg}</div>}\r\n\r\n      {!loading && team && (\r\n        <>\r\n          <div className=\"mb-4\">\r\n            <h2 className=\"text-2xl font-bold mb-1\">{team.name}</h2>\r\n            <div>\r\n              <strong>Owner:</strong> {ownerName}\r\n            </div>\r\n            <div>\r\n              <strong>Members:</strong> {team.members?.length ?? 0}\r\n            </div>\r\n          </div>\r\n\r\n          {canManage && (\r\n            <div className=\"mb-4 p-3 border rounded\">\r\n              <h3 className=\"font-semibold mb-2\">Add / invite member</h3>\r\n\r\n              {usersList ? (\r\n                <div className=\"flex gap-2 flex-wrap items-center\">\r\n                  <select\r\n                    value={selectedUserId ?? \"\"}\r\n                    onChange={(e) => setSelectedUserId(e.target.value || null)}\r\n                    className=\"px-3 py-2 border rounded\"\r\n                    style={{ minWidth: 300 }}\r\n                  >\r\n                    <option value=\"\">\r\n                      -- Select a user (or leave blank to enter email) --\r\n                    </option>\r\n                    {usersList\r\n                      .filter((u) => u.id !== myUserId)\r\n                      .map((u) => {\r\n                        const inOther = userIsInOtherTeam(u);\r\n                        const disabled = team.members?.some(\r\n                          (m) => m.user?.id === u.id\r\n                        );\r\n                        return (\r\n                          <option\r\n                            key={u.id}\r\n                            value={u.id}\r\n                            disabled={disabled}\r\n                            style={{\r\n                              backgroundColor: disabled\r\n                                ? \"#f0f0f0\"\r\n                                : inOther\r\n                                ? \"#ffecec\"\r\n                                : undefined,\r\n                              color: inOther ? \"#900\" : undefined,\r\n                            }}\r\n                          >\r\n                            {u.name ? `${u.name} — ${u.email}` : u.email}\r\n                            {disabled\r\n                              ? \" (already in this team)\"\r\n                              : inOther\r\n                              ? \" (in other team)\"\r\n                              : \"\"}\r\n                          </option>\r\n                        );\r\n                      })}\r\n                  </select>\r\n\r\n                  <input\r\n                    value={inviteEmail}\r\n                    onChange={(e) => setInviteEmail(e.target.value)}\r\n                    placeholder=\"Or enter email manually\"\r\n                    className=\"px-3 py-2 border rounded flex-1\"\r\n                  />\r\n\r\n                  <select\r\n                    value={inviteRole}\r\n                    onChange={(e) => setInviteRole(e.target.value as any)}\r\n                    className=\"px-2 py-2 border rounded\"\r\n                  >\r\n                    <option value=\"member\">Member</option>\r\n                    <option value=\"admin\">Admin</option>\r\n                    <option value=\"owner\">Owner</option>\r\n                  </select>\r\n\r\n                  <button\r\n                    className=\"bg-green-600 text-white px-3 py-2 rounded\"\r\n                    onClick={(e) => handleInvite(e)}\r\n                    disabled={\r\n                      !!processingMemberId && processingMemberId !== \"invite\"\r\n                    }\r\n                  >\r\n                    {processingMemberId === \"invite\"\r\n                      ? \"Working…\"\r\n                      : \"Add / Invite\"}\r\n                  </button>\r\n                </div>\r\n              ) : (\r\n                <form\r\n                  onSubmit={handleInvite}\r\n                  className=\"flex gap-2 flex-wrap items-center\"\r\n                >\r\n                  <input\r\n                    value={inviteEmail}\r\n                    onChange={(e) => setInviteEmail(e.target.value)}\r\n                    placeholder=\"Email to invite\"\r\n                    className=\"px-3 py-2 border rounded\"\r\n                  />\r\n                  <select\r\n                    value={inviteRole}\r\n                    onChange={(e) => setInviteRole(e.target.value as any)}\r\n                    className=\"px-2 py-2 border rounded\"\r\n                  >\r\n                    <option value=\"member\">Member</option>\r\n                    <option value=\"admin\">Admin</option>\r\n                    <option value=\"owner\">Owner</option>\r\n                  </select>\r\n                  <button\r\n                    type=\"submit\"\r\n                    className=\"bg-green-600 text-white px-3 py-2 rounded\"\r\n                  >\r\n                    Invite\r\n                  </button>\r\n                </form>\r\n              )}\r\n            </div>\r\n          )}\r\n\r\n          <h3 className=\"text-lg mb-2\">Members</h3>\r\n          <ul className=\"space-y-2 mb-4\">\r\n            {team.members?.map((m) => (\r\n              <li\r\n                key={m.id}\r\n                className=\"p-3 border rounded flex justify-between items-center\"\r\n              >\r\n                <div>\r\n                  <div className=\"font-semibold\">\r\n                    {m.user?.name ?? m.user?.email}{\" \"}\r\n                    <span className=\"ml-2 text-sm text-gray-600\">\r\n                      ({m.user?.email})\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"text-sm text-gray-600\">Role: {m.role}</div>\r\n                </div>\r\n\r\n                <div className=\"flex items-center gap-2\">\r\n                  {canManage ? (\r\n                    <>\r\n                      <button\r\n                        className=\"px-2 py-1 border rounded text-sm\"\r\n                        onClick={() => {\r\n                          const next =\r\n                            m.role === \"member\"\r\n                              ? \"admin\"\r\n                              : m.role === \"admin\"\r\n                              ? \"owner\"\r\n                              : null;\r\n                          if (!next) return;\r\n                          changeMemberRole(m.id, next);\r\n                        }}\r\n                        disabled={!!processingMemberId}\r\n                      >\r\n                        {processingMemberId === m.id\r\n                          ? \"Working…\"\r\n                          : m.role === \"member\"\r\n                          ? \"Promote\"\r\n                          : m.role === \"admin\"\r\n                          ? \"Make owner\"\r\n                          : \"Promote\"}\r\n                      </button>\r\n\r\n                      {m.role !== \"member\" && (\r\n                        <button\r\n                          className=\"px-2 py-1 border rounded text-sm\"\r\n                          onClick={() => demoteMember(m)}\r\n                          disabled={!!processingMemberId}\r\n                        >\r\n                          {processingMemberId === m.id ? \"Working…\" : \"Demote\"}\r\n                        </button>\r\n                      )}\r\n\r\n                      <button\r\n                        className=\"px-2 py-1 bg-red-600 text-white rounded text-sm\"\r\n                        onClick={() => {\r\n                          if (m.user.id === myUserId) {\r\n                            alert(\"You cannot remove yourself.\");\r\n                            return;\r\n                          }\r\n                          removeMember(m.id);\r\n                        }}\r\n                        disabled={\r\n                          !!processingMemberId || m.user.id === myUserId\r\n                        }\r\n                      >\r\n                        {processingMemberId === m.id ? \"Working…\" : \"Remove\"}\r\n                      </button>\r\n                    </>\r\n                  ) : (\r\n                    <div className=\"text-sm text-gray-500\">View only</div>\r\n                  )}\r\n                </div>\r\n              </li>\r\n            ))}\r\n            {(!team.members || team.members.length === 0) && (\r\n              <div>No members yet</div>\r\n            )}\r\n          </ul>\r\n\r\n          <h3 className=\"text-lg mb-2\">Projects assigned</h3>\r\n          <ul>\r\n            {(team.projects || []).map((p) => (\r\n              <li\r\n                key={p.id}\r\n                className=\"p-2 border rounded mb-2 flex justify-between items-center\"\r\n              >\r\n                <div>\r\n                  <div className=\"font-semibold\">{p.name}</div>\r\n                  <div className=\"text-sm text-gray-600\">{p.description}</div>\r\n                </div>\r\n                <div>\r\n                  <Link href={`/projects/${p.id}`} className=\"text-blue-600\">\r\n                    Open\r\n                  </Link>\r\n                </div>\r\n              </li>\r\n            ))}\r\n            {(team.projects || []).length === 0 && (\r\n              <div>No projects assigned</div>\r\n            )}\r\n          </ul>\r\n\r\n          {(user?.role === \"admin\" || myRoleInTeam === \"owner\") && (\r\n            <div className=\"mt-6\">\r\n              {!showDeleteConfirm ? (\r\n                <button\r\n                  className=\"bg-red-700 text-white px-3 py-2 rounded\"\r\n                  onClick={openDeleteForm}\r\n                  disabled={deleting || processingMemberId === \"delete-team\"}\r\n                >\r\n                  Delete team\r\n                </button>\r\n              ) : (\r\n                <div className=\"p-4 border rounded bg-yellow-50 max-w-xl\">\r\n                  <div className=\"mb-2\">\r\n                    <strong>Type the team name to confirm deletion:</strong>\r\n                  </div>\r\n                  <div className=\"mb-2\">\r\n                    This will permanently delete the team{\" \"}\r\n                    <strong>{team.name}</strong> and{\" \"}\r\n                    <strong>\r\n                      will also delete projects assigned to this team\r\n                    </strong>\r\n                    .\r\n                  </div>\r\n\r\n                  <input\r\n                    value={deleteNameInput}\r\n                    onChange={(e) => setDeleteNameInput(e.target.value)}\r\n                    placeholder=\"Type exact team name\"\r\n                    className=\"px-3 py-2 border rounded w-full mb-3\"\r\n                  />\r\n\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      className=\"bg-red-700 text-white px-3 py-2 rounded\"\r\n                      onClick={() => performDeleteTeam()}\r\n                      disabled={deleting || deleteNameInput !== team.name}\r\n                    >\r\n                      {deleting ? \"Deleting…\" : \"Delete\"}\r\n                    </button>\r\n                    <button\r\n                      className=\"px-3 py-2 border rounded\"\r\n                      onClick={() => {\r\n                        setShowDeleteConfirm(false);\r\n                        setDeleteNameInput(\"\");\r\n                      }}\r\n                      disabled={deleting}\r\n                    >\r\n                      Cancel\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n"],"names":["React","useEffect","useState","useParams","useRouter","Link","useAuth","getTeamDetails","apiGetTeamDetails","UserBase","id","email","name","_count","teamMembers","teamIds","TeamMember","role","user","Team","ownerId","members","projects","description","API_BASE","process","env","NEXT_PUBLIC_API_BASE","TeamPage","params","router","teamId","Array","isArray","team","setTeam","loading","setLoading","msg","setMsg","inviteEmail","setInviteEmail","inviteRole","setInviteRole","usersList","setUsersList","selectedUserId","setSelectedUserId","processingMemberId","setProcessingMemberId","showDeleteConfirm","setShowDeleteConfirm","deleteNameInput","setDeleteNameInput","deleting","setDeleting","authHeaders","t","window","localStorage","getItem","Authorization","mounted","data","String","err","e","status","body","Error","message","res","fetch","headers","ok","json","arr","users","myUserId","myMembership","find","m","myRoleInTeam","canManage","ownerName","reloadTeam","handleInvite","FormEvent","preventDefault","u","x","r","method","JSON","stringify","txt","text","catch","parsed","parse","error","changeMemberRole","memberId","newRole","demoteMember","member","mapping","Record","owner","admin","next","removeMember","confirm","openDeleteForm","performDeleteTeam","push","userIsInOtherTeam","count","undefined","alreadyInThis","some","length","target","value","minWidth","filter","map","inOther","disabled","backgroundColor","color","alert","p"],"mappings":"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","ignoreList":[],"debugId":null}}]
}