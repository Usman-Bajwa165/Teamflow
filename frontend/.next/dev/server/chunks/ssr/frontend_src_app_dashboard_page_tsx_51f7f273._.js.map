{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Window/Desktop/Teamflow/frontend/src/app/dashboard/page.tsx"],"sourcesContent":["'use client';\r\nimport React, { useEffect, useMemo, useState } from 'react';\r\nimport { useRouter } from 'next/navigation';\r\nimport {\r\n  listProjects,\r\n  getMyTeams,\r\n  getAllTeams,\r\n  getAllUsers,\r\n} from '../../lib/api';\r\nimport { useAuth } from '../../context/AuthContext';\r\n\r\ntype Project = any;\r\ntype Team = any;\r\ntype User = any;\r\n\r\nfunction niceDate(d?: string | null) {\r\n  if (!d) return '—';\r\n  try {\r\n    const dt = new Date(d);\r\n    return dt.toLocaleDateString();\r\n  } catch {\r\n    return d;\r\n  }\r\n}\r\n\r\nfunction timeLeftText(d?: string | null) {\r\n  if (!d) return 'No due date';\r\n  const now = Date.now();\r\n  const due = new Date(d).getTime();\r\n  const diff = due - now;\r\n  if (diff <= 0) return 'Past due';\r\n  const days = Math.floor(diff / (1000 * 60 * 60 * 24));\r\n  const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));\r\n  if (days > 0) return `${days}d ${hours}h left`;\r\n  const mins = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));\r\n  if (hours > 0) return `${hours}h ${mins}m left`;\r\n  return `${mins}m left`;\r\n}\r\n\r\nexport default function DashboardPage() {\r\n  const router = useRouter();\r\n  const { user } = useAuth();\r\n  const [loading, setLoading] = useState(true);\r\n  const [projects, setProjects] = useState<Project[]>([]);\r\n  const [teams, setTeams] = useState<Team[]>([]);\r\n  const [users, setUsers] = useState<User[]>([]);\r\n  const [err, setErr] = useState<string | null>(null);\r\n\r\n  useEffect(() => {\r\n    let mounted = true;\r\n    setLoading(true);\r\n    setErr(null);\r\n\r\n    (async () => {\r\n      try {\r\n        const p = await listProjects(); // returns projects with columns/tasks\r\n        if (!mounted) return;\r\n        setProjects(Array.isArray(p) ? p : []);\r\n\r\n        // teams: admin -> all, otherwise only my teams\r\n        if (user?.role === 'admin') {\r\n          try {\r\n            const t = await getAllTeams();\r\n            if (mounted) setTeams(Array.isArray(t) ? t : []);\r\n          } catch {\r\n            const t2 = await getMyTeams();\r\n            if (mounted) setTeams(Array.isArray(t2) ? t2 : []);\r\n          }\r\n        } else {\r\n          const t = await getMyTeams();\r\n          if (mounted) setTeams(Array.isArray(t) ? t : []);\r\n        }\r\n\r\n        // users: only for admin (graceful fallback)\r\n        if (user?.role === 'admin') {\r\n          try {\r\n            const u = await getAllUsers();\r\n            if (mounted) setUsers(Array.isArray(u) ? u : []);\r\n          } catch {\r\n            if (mounted) setUsers([]);\r\n          }\r\n        } else {\r\n          if (mounted) setUsers([]);\r\n        }\r\n      } catch (e: any) {\r\n        if (mounted) setErr('Failed to load dashboard data');\r\n      } finally {\r\n        if (mounted) setLoading(false);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      mounted = false;\r\n    };\r\n  }, [user]);\r\n\r\n  // derived metrics\r\n  const totals = useMemo(() => {\r\n    const totalProjects = projects.length;\r\n    let totalTasks = 0;\r\n    const statusCounts: Record<string, number> = { TODO: 0, IN_PROGRESS: 0, FINISHED: 0 };\r\n    for (const p of projects) {\r\n      const cols = p.columns ?? [];\r\n      for (const c of cols) {\r\n        const tasks = c.tasks ?? [];\r\n        totalTasks += tasks.length;\r\n        for (const t of tasks) {\r\n          const s = (t.status ?? 'TODO').toString();\r\n          statusCounts[s] = (statusCounts[s] || 0) + 1;\r\n        }\r\n      }\r\n    }\r\n    const totalTeams = teams.length;\r\n    const totalUsers = users.length;\r\n\r\n    // upcoming due projects sorted soonest first\r\n    const withDue = projects\r\n      .map((pr) => ({\r\n        ...pr,\r\n        dueAt: pr.dueDate ? new Date(pr.dueDate).getTime() : null,\r\n      }))\r\n      .filter((pr) => pr.dueAt)\r\n      .sort((a, b) => (a.dueAt! - b.dueAt!));\r\n\r\n    // projects per team\r\n    const perTeam: Record<string, Project[]> = {};\r\n    for (const pr of projects) {\r\n      const t = pr.team?.id ?? pr.teamId ?? 'Unassigned';\r\n      perTeam[t] = perTeam[t] || [];\r\n      perTeam[t].push(pr);\r\n    }\r\n\r\n    return {\r\n      totalProjects,\r\n      totalTasks,\r\n      statusCounts,\r\n      totalTeams,\r\n      totalUsers,\r\n      upcoming: withDue,\r\n      perTeam,\r\n    };\r\n  }, [projects, teams, users]);\r\n\r\n  // visual helpers\r\n  function pct(part: number, total: number) {\r\n    if (total === 0) return 0;\r\n    return Math.round((part / total) * 100);\r\n  }\r\n\r\n  // redirect guard: if not logged in, send to login\r\n  useEffect(() => {\r\n    if (user === undefined || user === null) {\r\n      // don't redirect immediately while loading auth; only if definitely not logged in\r\n      // we assume AuthContext provides null when logged out\r\n      // If your AuthContext sets user=null initially then adapt this logic.\r\n      // Here we only redirect if explicitly null and not loading.\r\n      // For safety, do nothing if user is undefined.\r\n      if (user === null) router.push('/login');\r\n    }\r\n  }, [user, router]);\r\n\r\n  return (\r\n    <div className=\"max-w-7xl mx-auto py-8 px-4\">\r\n      <div className=\"flex items-center justify-between mb-8\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-extrabold tracking-tight text-slate-900\">Dashboard</h1>\r\n          <p className=\"text-sm text-slate-500 mt-1\">\r\n            Overview of activity and health across teams & projects.\r\n          </p>\r\n        </div>\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            onClick={() => router.push('/projects')}\r\n            className=\"inline-flex items-center gap-2 bg-gradient-to-r from-indigo-600 to-violet-500 text-white px-4 py-2 rounded-lg shadow hover:scale-[1.01] transition\"\r\n          >\r\n            View Projects\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      {err && <div className=\"mb-4 text-red-600\">{err}</div>}\r\n\r\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-6\">\r\n        {/* Card: Users */}\r\n        <div className=\"bg-white p-5 rounded-2xl shadow-sm border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"text-sm text-slate-500\">Total users</div>\r\n              <div className=\"text-2xl font-semibold mt-1 text-slate-800\">{loading ? '—' : totals.totalUsers}</div>\r\n            </div>\r\n            <div className=\"p-2 bg-indigo-50 rounded-full\">\r\n              <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M12 12c2.761 0 5-2.239 5-5s-2.239-5-5-5-5 2.239-5 5 2.239 5 5 5z\" stroke=\"#4F46E5\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/><path d=\"M21 21v-2c0-2.761-3.134-5-7-5H10c-3.866 0-7 2.239-7 5v2\" stroke=\"#7C3AED\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-xs text-slate-500 mt-3\">All active users.</div>\r\n        </div>\r\n\r\n        {/* Card: Teams */}\r\n        <div className=\"bg-white p-5 rounded-2xl shadow-sm border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"text-sm text-slate-500\">Teams</div>\r\n              <div className=\"text-2xl font-semibold mt-1 text-slate-800\">{loading ? '—' : totals.totalTeams}</div>\r\n            </div>\r\n            <div className=\"p-2 bg-emerald-50 rounded-full\">\r\n              <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M12 12c2.761 0 5-2.239 5-5S14.761 2 12 2 7 4.239 7 7s2.239 5 5 5z\" stroke=\"#059669\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/><path d=\"M2 22v-2c0-2.761 3.134-5 7-5h6c3.866 0 7 2.239 7 5v2\" stroke=\"#10B981\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-xs text-slate-500 mt-3\">Number of teams you can access.</div>\r\n        </div>\r\n\r\n        {/* Card: Projects */}\r\n        <div className=\"bg-white p-5 rounded-2xl shadow-sm border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"text-sm text-slate-500\">Projects</div>\r\n              <div className=\"text-2xl font-semibold mt-1 text-slate-800\">{loading ? '—' : totals.totalProjects}</div>\r\n            </div>\r\n            <div className=\"p-2 bg-yellow-50 rounded-full\">\r\n              <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\"><rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"2\" stroke=\"#D97706\" strokeWidth=\"1.5\"/><path d=\"M8 7h8\" stroke=\"#B45309\" strokeWidth=\"1.5\" strokeLinecap=\"round\"/></svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-xs text-slate-500 mt-3\">Active projects in your scope.</div>\r\n        </div>\r\n\r\n        {/* Card: Tasks */}\r\n        <div className=\"bg-white p-5 rounded-2xl shadow-sm border\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div>\r\n              <div className=\"text-sm text-slate-500\">Tasks</div>\r\n              <div className=\"text-2xl font-semibold mt-1 text-slate-800\">{loading ? '—' : totals.totalTasks}</div>\r\n            </div>\r\n            <div className=\"p-2 bg-rose-50 rounded-full\">\r\n              <svg width=\"28\" height=\"28\" viewBox=\"0 0 24 24\" fill=\"none\"><path d=\"M4 7h16M4 12h16M10 17h10\" stroke=\"#EF4444\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\"/></svg>\r\n            </div>\r\n          </div>\r\n          <div className=\"text-xs text-slate-500 mt-3\">All tasks across visible projects.</div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Status breakdown + upcoming due + per-team projects */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n        <section className=\"lg:col-span-1 bg-white p-5 rounded-2xl shadow-sm border\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Task status</h3>\r\n          <div className=\"space-y-3\">\r\n            {(['TODO', 'IN_PROGRESS', 'FINISHED'] as const).map((k) => {\r\n              const val = totals.statusCounts[k] || 0;\r\n              const percent = pct(val, totals.totalTasks);\r\n              return (\r\n                <div key={k}>\r\n                  <div className=\"flex justify-between text-sm mb-1\">\r\n                    <div className=\"font-medium\">{k.replace('_', ' ')}</div>\r\n                    <div className=\"text-slate-500\">{val}</div>\r\n                  </div>\r\n                  <div className=\"w-full bg-slate-100 rounded-full h-2 overflow-hidden\">\r\n                    <div\r\n                      style={{ width: `${percent}%` }}\r\n                      className={`h-2 ${k === 'FINISHED' ? 'bg-emerald-500' : k === 'IN_PROGRESS' ? 'bg-indigo-500' : 'bg-amber-400'}`}\r\n                    />\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"lg:col-span-1 bg-white p-5 rounded-2xl shadow-sm border\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Upcoming due</h3>\r\n          <div className=\"space-y-3\">\r\n            {totals.upcoming.length === 0 && <div className=\"text-sm text-slate-500\">No upcoming due dates</div>}\r\n            {totals.upcoming.slice(0, 6).map((pr: Project) => {\r\n              // compute progress from assignedAt -> dueDate\r\n              let percent = 0;\r\n              if (pr.assignedAt && pr.dueDate) {\r\n                const from = new Date(pr.assignedAt).getTime();\r\n                const to = new Date(pr.dueDate).getTime();\r\n                const now = Date.now();\r\n                if (to > from) {\r\n                  percent = Math.min(100, Math.max(0, Math.round(((now - from) / (to - from)) * 100)));\r\n                }\r\n              }\r\n              return (\r\n                <div key={pr.id} className=\"border rounded p-3\">\r\n                  <div className=\"flex justify-between items-start\">\r\n                    <div>\r\n                      <div className=\"font-medium\">{pr.name}</div>\r\n                      <div className=\"text-xs text-slate-500\">{pr.team?.name ?? 'Unassigned'}</div>\r\n                    </div>\r\n                    <div className=\"text-sm text-slate-600\">{timeLeftText(pr.dueDate)}</div>\r\n                  </div>\r\n                  <div className=\"mt-3\">\r\n                    <div className=\"w-full bg-slate-100 h-2 rounded-full overflow-hidden\">\r\n                      <div style={{ width: `${percent}%` }} className=\"h-2 bg-indigo-400\" />\r\n                    </div>\r\n                    <div className=\"text-xs text-slate-500 mt-1\">Due: {niceDate(pr.dueDate)}</div>\r\n                  </div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </section>\r\n\r\n        <section className=\"lg:col-span-1 bg-white p-5 rounded-2xl shadow-sm border\">\r\n          <h3 className=\"text-lg font-semibold mb-4\">Projects by team</h3>\r\n          <div className=\"space-y-2 max-h-[320px] overflow-y-auto pr-2\">\r\n            {Object.keys(totals.perTeam).length === 0 && <div className=\"text-sm text-slate-500\">No projects</div>}\r\n            {Object.entries(totals.perTeam).map(([teamId, list]) => {\r\n              const teamName = teams.find((t) => (t.id ?? t.team?.id) === teamId)?.name ?? (teamId === 'Unassigned' ? 'Unassigned' : teamId);\r\n              return (\r\n                <div key={teamId} className=\"flex justify-between items-center p-2 bg-slate-50 rounded\">\r\n                  <div>\r\n                    <div className=\"text-sm font-medium\">{teamName}</div>\r\n                    <div className=\"text-xs text-slate-500\">{list.length} projects</div>\r\n                  </div>\r\n                  <div className=\"text-sm text-slate-600\">{list.slice(0, 2).map(p => p.name).join(', ')}{list.length > 2 ? ` +${list.length - 2}` : ''}</div>\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </section>\r\n      </div>\r\n\r\n      {/* recent projects table */}\r\n      <div className=\"mt-8 bg-white p-5 rounded-2xl shadow-sm border\">\r\n        <div className=\"flex items-center justify-between mb-4\">\r\n          <h3 className=\"text-lg font-semibold\">Recent projects</h3>\r\n          <div className=\"text-sm text-slate-500\">{totals.totalProjects} projects</div>\r\n        </div>\r\n\r\n        {loading ? (\r\n          <div className=\"py-12 text-center text-slate-500\">Loading projects...</div>\r\n        ) : projects.length === 0 ? (\r\n          <div className=\"py-8 text-center text-slate-500\">No projects available</div>\r\n        ) : (\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full text-left\">\r\n              <thead>\r\n                <tr className=\"text-xs text-slate-500 border-b\">\r\n                  <th className=\"py-2\">Project</th>\r\n                  <th className=\"py-2\">Team</th>\r\n                  <th className=\"py-2\">Tasks</th>\r\n                  <th className=\"py-2\">Due</th>\r\n                  <th className=\"py-2\">Status</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {projects.slice(0, 12).map((pr) => {\r\n                  const taskCount = (pr.columns ?? []).reduce((acc: number, c: any) => acc + ((c.tasks ?? []).length || 0), 0);\r\n                  const finished = (pr.columns ?? []).reduce((acc: number, c: any) => acc + ((c.tasks ?? []).filter((t: any) => t.status === 'FINISHED').length || 0), 0);\r\n                  const statusLabel = finished === taskCount && taskCount > 0 ? 'Completed' : (pr.dueDate && new Date(pr.dueDate).getTime() < Date.now() ? 'Overdue' : 'Active');\r\n                  return (\r\n                    <tr key={pr.id} className=\"border-b last:border-0\">\r\n                      <td className=\"py-3\">\r\n                        <div className=\"font-medium\">{pr.name}</div>\r\n                        <div className=\"text-xs text-slate-500\">{pr.description ?? '—'}</div>\r\n                      </td>\r\n                      <td className=\"py-3\">{pr.team?.name ?? 'Unassigned'}</td>\r\n                      <td className=\"py-3\">{taskCount}</td>\r\n                      <td className=\"py-3\">{pr.dueDate ? niceDate(pr.dueDate) : '—'}</td>\r\n                      <td className=\"py-3\">\r\n                        <span className={`px-2 py-1 rounded text-xs ${statusLabel === 'Completed' ? 'bg-emerald-100 text-emerald-800' : statusLabel === 'Overdue' ? 'bg-rose-100 text-rose-800' : 'bg-indigo-100 text-indigo-800'}`}>\r\n                          {statusLabel}\r\n                        </span>\r\n                      </td>\r\n                    </tr>\r\n                  );\r\n                })}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"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","debugId":null}}]
}