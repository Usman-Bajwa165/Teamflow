{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/Window/Desktop/Teamflow/frontend/src/app/projects/page.tsx"],"sourcesContent":["// frontend/app/projects/page.tsx\r\n'use client';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { createProject, getProject, listProjects } from '../../lib/api';\r\nimport Link from 'next/link';\r\n\r\nexport default function ProjectsListPage() {\r\n  const [projects, setProjects] = useState<any[]>([]);\r\n  const [name, setName] = useState('');\r\n  const [desc, setDesc] = useState('');\r\n  const [msg, setMsg] = useState<string | null>(null);\r\n\r\nuseEffect(() => {\r\n  (async () => {\r\n    try {\r\n      const res = await listProjects();\r\n      setProjects(res);\r\n    } catch (err) {\r\n      // ignore or surface\r\n    }\r\n  })();\r\n}, []);\r\n\r\n\r\n  async function addProject(e: React.FormEvent) {\r\n    e.preventDefault();\r\n    setMsg(null);\r\n    if (!name || name.trim().length < 2) {\r\n      setMsg('Project name must be at least 2 characters.');\r\n      return;\r\n    }\r\n    try {\r\n      const p = await createProject(name.trim(), desc.trim());\r\n      setProjects((s) => [...s, p]);\r\n      setName(''); setDesc('');\r\n    } catch (err: any) {\r\n      const errMsg = err?.body?.message || 'Failed to create project';\r\n      setMsg(errMsg);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h2 className=\"text-2xl mb-4\">Projects</h2>\r\n\r\n      <form onSubmit={addProject} className=\"mb-6 space-y-2\">\r\n        <input value={name} onChange={(e) => setName(e.target.value)} placeholder=\"Project name\" className=\"w-full px-3 py-2 border rounded\" />\r\n        <input value={desc} onChange={(e) => setDesc(e.target.value)} placeholder=\"Description (optional)\" className=\"w-full px-3 py-2 border rounded\" />\r\n        <button className=\"bg-indigo-600 text-white px-4 py-2 rounded\">Create project</button>\r\n      </form>\r\n\r\n      <ul className=\"space-y-3\">\r\n        {projects.map((p) => (\r\n          <li key={p.id} className=\"border p-3 rounded flex justify-between items-center\">\r\n            <div>\r\n              <div className=\"font-semibold\">{p.name}</div>\r\n              <div className=\"text-sm text-gray-600\">{p.description}</div>\r\n            </div>\r\n            <Link href={`/projects/${p.id}`} className=\"text-blue-600\">Open board</Link>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"names":[],"mappings":"AAAA,iCAAiC;;;;;;AAEjC;AACA;AACA;AAHA;;;;;AAKe,SAAS;IACtB,MAAM,CAAC,UAAU,YAAY,GAAG,IAAA,6NAAQ,EAAQ,EAAE;IAClD,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6NAAQ,EAAC;IACjC,MAAM,CAAC,MAAM,QAAQ,GAAG,IAAA,6NAAQ,EAAC;IACjC,MAAM,CAAC,KAAK,OAAO,GAAG,IAAA,6NAAQ,EAAgB;IAEhD,IAAA,8NAAS,EAAC;QACR,CAAC;YACC,IAAI;gBACF,MAAM,MAAM,MAAM,IAAA,6IAAY;gBAC9B,YAAY;YACd,EAAE,OAAO,KAAK;YACZ,oBAAoB;YACtB;QACF,CAAC;IACH,GAAG,EAAE;IAGH,eAAe,WAAW,CAAkB;QAC1C,EAAE,cAAc;QAChB,OAAO;QACP,IAAI,CAAC,QAAQ,KAAK,IAAI,GAAG,MAAM,GAAG,GAAG;YACnC,OAAO;YACP;QACF;QACA,IAAI;YACF,MAAM,IAAI,MAAM,IAAA,8IAAa,EAAC,KAAK,IAAI,IAAI,KAAK,IAAI;YACpD,YAAY,CAAC,IAAM;uBAAI;oBAAG;iBAAE;YAC5B,QAAQ;YAAK,QAAQ;QACvB,EAAE,OAAO,KAAU;YACjB,MAAM,SAAS,KAAK,MAAM,WAAW;YACrC,OAAO;QACT;IACF;IAEA,qBACE,0PAAC;;0BACC,0PAAC;gBAAG,WAAU;0BAAgB;;;;;;0BAE9B,0PAAC;gBAAK,UAAU;gBAAY,WAAU;;kCACpC,0PAAC;wBAAM,OAAO;wBAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBAAG,aAAY;wBAAe,WAAU;;;;;;kCACnG,0PAAC;wBAAM,OAAO;wBAAM,UAAU,CAAC,IAAM,QAAQ,EAAE,MAAM,CAAC,KAAK;wBAAG,aAAY;wBAAyB,WAAU;;;;;;kCAC7G,0PAAC;wBAAO,WAAU;kCAA6C;;;;;;;;;;;;0BAGjE,0PAAC;gBAAG,WAAU;0BACX,SAAS,GAAG,CAAC,CAAC,kBACb,0PAAC;wBAAc,WAAU;;0CACvB,0PAAC;;kDACC,0PAAC;wCAAI,WAAU;kDAAiB,EAAE,IAAI;;;;;;kDACtC,0PAAC;wCAAI,WAAU;kDAAyB,EAAE,WAAW;;;;;;;;;;;;0CAEvD,0PAAC,mLAAI;gCAAC,MAAM,CAAC,UAAU,EAAE,EAAE,EAAE,EAAE;gCAAE,WAAU;0CAAgB;;;;;;;uBALpD,EAAE,EAAE;;;;;;;;;;;;;;;;AAWvB","debugId":null}}]
}